cwlVersion: v1.0
class: Workflow

label: Pre-process MuSE results
doc: Filter, sort, and normalize a VCF generated by MuSE.

inputs:
  vcf:
    type: File
  seqdict:
    type: File

outputs:
  output_vcf:
    type: File
    outputSource: normalize/output_vcf

steps:
  filter:
    in:
      vcf: vcf
      output_name: muse.filtered.vcf
    out: [output_vcf]
    run: ../filter_muse/tool.cwl.yaml

  sort:
    in:
      seqdict: seqdict
      vcf: filter/output_vcf
      output_name: muse.sorted.vcf
    out: [output_vcf]
    run: ../sort_vcf/tool.cwl.yaml

  normalize:
    in:
      vcf: sort/output_vcf
      output_name: muse.normalized.vcf
    out: [output_vcf]
    run: ../normalize_vcf/tool.cwl.yaml
