cwlVersion: v1.0
class: Workflow

label: Pre-process Varscan SNP vcf
doc: Filter, sort, and normalize VCF files generated by Varscan SNP calling

inputs:
  vcf:
    type: File
  seqdict:
    type: File
  normal_id:
    type: string
  tumor_id:
    type: string

outputs:
  output_vcf:
    type: File
    outputSource: normalize/output_vcf

steps:
  filter:
    in:
      vcf: vcf
      normal_id: normal_id
      tumor_id: tumor_id
    out: [output_vcf]
    run: ../filter_varscan_snp/tool.cwl.yaml

  sort:
    in:
      seqdict: seqdict
      vcf: filter/output_vcf
    out: [output_vcf]
    run: ../sort_vcf/tool.cwl.yaml

  normalize:
    in:
      vcf: sort/output_vcf
    out: [output_vcf]
    run: ../normalize_vcf/tool.cwl.yaml
